# AI助手项目结构

## 项目概览

基于 Electron + React 的 AI 助手桌面应用，提供流畅的对话体验。

### 技术栈

- Electron: v28.0.0
- React: v18.2.0
- TypeScript: v5.2.2
- Vite: v5.0.10

## 目录结构

```
assistant/
├── electron/               # Electron 主进程代码
│   ├── main.ts            # 主进程入口
│   └── preload.ts         # 预加载脚本
├── src/
│   ├── components/        # React 组件
│   │   ├── icons/        # 图标组件
│   │   ├── InputArea/    # 输入区组件
│   │   ├── MessageList/  # 消息列表组件
│   │   ├── Settings/     # 设置组件
│   │   └── Toast/        # 提示组件
│   ├── services/         # 服务层
│   │   ├── apiService.ts # API 调用服务
│   │   └── configService.ts # 配置管理服务
│   ├── types/            # TypeScript 类型定义
│   ├── utils/            # 工具函数
│   ├── App.tsx           # 应用根组件
│   └── main.tsx          # 渲染进程入口
├── public/               # 静态资源
└── dist/                # 构建输出
```

## 核心组件

### InputArea
- 功能：消息输入和发送
- 特点：
  - 支持快捷键（Enter发送，Shift+Enter换行）
  - 字数限制和计数
  - 发送/停止按钮状态管理

### MessageList
- 功能：消息历史展示
- 特点：
  - 自动滚动到最新消息
  - 区分用户和AI消息样式
  - 空消息提示

### Settings
- 功能：系统配置管理
- 特点：
  - API提供商选择
  - API密钥配置
  - 模型选择

### Toast
- 功能：系统提示
- 特点：
  - 支持多种提示类型
  - 自动关闭
  - 可手动关闭

## 样式规范

### 颜色系统
- 主色：#4a3b89（紫色）
- 背景色：#1a1a1a（深灰）
- 文字色：#e0e0e0（浅灰）
- 边框色：#333333

### 字体大小
- 标准文本：16px
- 小号文本：14px
- 提示文本：12px

### 间距规范
- 标准内边距：12px
- 组件间距：8px
- 图标尺寸：18x18px

## 开发规范

### 组件开发
1. 单一职责原则
2. Props 类型定义
3. 组件内部状态管理
4. 样式文件分离

### 代码风格
1. 使用 TypeScript 类型
2. 函数组件 + Hooks
3. 异步操作错误处理
4. 统一的命名规范

### 文件组织
1. 组件目录结构统一
2. 样式文件命名统一
3. 类型定义集中管理
4. 工具函数模块化

## 构建与部署

### 开发环境
```bash
npm run dev  # 启动开发服务器
```

### 生产构建
```bash
npm run build  # 构建生产版本
```

### 打包发布
```bash
npm run package  # 打包桌面应用
```

## 未来规划

### 功能增强
1. 支持更多API提供商
2. 历史会话管理
3. 代码高亮和格式化
4. 文件上传和图片处理

### 用户体验
1. 自定义主题
2. 快捷键配置
3. 多语言支持
4. 消息导出功能

### 技术改进
1. 状态管理优化
2. 性能监控和优化
3. 自动更新机制
4. 插件系统支持

### 安全性
1. 数据加密存储
2. 安全传输机制
3. 访问权限控制
4. 敏感信息保护

## 维护指南

### 开发环境设置
1. Node.js >= 18
2. npm >= 9
3. Git
4. VS Code（推荐）

### 开发流程
1. 克隆仓库：`git clone [仓库地址]`
2. 安装依赖：`npm install`
3. 启动开发：`npm run dev`
4. 代码提交：
   - 遵循 Git Flow
   - 使用语义化提交信息
   - 提交前进行代码检查

### 发布流程
1. 版本更新：`npm version [patch|minor|major]`
2. 运行测试：`npm test`
3. 构建应用：`npm run build`
4. 打包发布：`npm run package`

### 维护要点
1. 定期更新依赖
2. 及时处理安全警告
3. 保持文档同步更新
4. 遵循代码规范

---
最后更新：2025-02-15
